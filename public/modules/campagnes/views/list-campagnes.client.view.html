<section data-ng-controller="CampagnesController" data-ng-init="find()">
    <div class="page-header">
        <h1><span class="glyphicon glyphicon-tower" /> Campagnes</h1>
        <p class="lead">Liste des campagnes et sessions de jeux plateau en cours.</p>
    </div>
    <p><a data-ng-href="/#!/campagnes/create" class="btn btn-primary"><i class="fa fa-plus"></i> Nouvelle campagne</a></p>
    <div class="list-group">
        <a data-ng-repeat="campagne in campagnes" data-ng-href="#!/campagnes/{{campagne._id}}" class="list-group-item">
            <small class="pull-right">
                <em class="text-muted">
                    <span data-ng-bind="campagne.created | date:'dd/MM/yyyy à HH:mm'"></span>
                </em>
            </small>             
			<h4 class="list-group-item-heading" data-ng-bind="campagne.name"></h4>
            <p class="list-group-item-text"><i class="fa fa-angle-double-left"></i> <em class="list-group-item-text" data-ng-bind="campagne.description | limitTo:50"></em> <i class="fa fa-angle-double-right"></i></p>
            <small class="list-group-item-text">
                <span data-ng-bind="campagne.players.length"></span> <span class="glyphicon glyphicon-user" />
                <span class="left-buffer">Créée par <span data-ng-bind="campagne.user.displayName"></span></span>
            </small>           
        </a>
    </div>
    <div class="alert alert-warning text-center" data-ng-hide="!campagnes.$resolved || campagnes.length">
    	Aucune campagne en cours, <a href="/#!/campagnes/create">en créer une !</a>
    </div>

    <a data-ng-href="/#!/campagnes/create" class="btn btn-primary" data-ng-show="campagnes.length >= 10"><i class="fa fa-plus"></i> Nouvelle campagne</a>

</section>